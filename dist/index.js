(()=>{var e={10:(e,t,n)=>{n(895);const{init:o}=n(205),{isSupportedCssVar:r}=n(891),i=async({position:e="fixed",items:t=[]}={})=>{r(),o("audio-player-mini",t)},s=function(){this.createAPlayer=i};window.$AudidoPlayer=s,e.exports=s},895:(e,t,n)=>{"use strict";n.r(t)},458:(e,t,n)=>{const o=n(288);let r,i,s,a=0;const l=()=>{const e=i[a];r.src=e.url;const t=e.cover;u(t,e),r.play()},c=e=>{e?document.documentElement.style.setProperty("--background-image",`url('${e}')`):document.documentElement.style.setProperty("--background-image","url('https://avatars.githubusercontent.com/u/42455616?v=4')")},u=(e,t)=>{e&&e.length>0?c(e):o(t).then((e=>{c(e)}))};e.exports={changeAudio:(e,t,n)=>{i=t,r=e,s=n,(()=>{r.src=i[a].url;let e=i[a].cover;u(e,i[a])})(),r.addEventListener("ended",(()=>{a<i.length-1&&(a++,l())})),document.querySelector(`.${s}-pre`).addEventListener("click",(()=>{a-1<0?alert("already first"):(a--,l())})),document.querySelector(`.${s}-next`).addEventListener("click",(()=>{a+1>=i.length?alert("already last"):(a++,l())}))}}},288:(e,t,n)=>{const{getContentSize:o,getElSize:r,uint8ToBase64:i,getID3TotalSize:s,getID3FrameSize:a,getArrayData:l,getTextSize:c}=n(891);e.exports=async e=>{if(e.cover)return e.cover;const t=e.url;let n=0;if(t.endsWith(".flac")){const e=await l(t);if("fLaC"===String.fromCharCode.apply(null,e.slice(0,4))){n+=4;let t,s=0;do{s=127&e[n],t=(255&e[0])>>7,n++;const a=o(e,n);if(n+=3,6===s){n+=4;let t=r(e,n);n+=4;const o=String.fromCharCode.apply(null,e.slice(n,n+t));n+=t,n=n+4+r(e,n),n+=16;let s=r(e,n);n+=4;let a=e.slice(n,n+s);return i(a,o)}n+=a}while(1!==t)}}else if(t.endsWith(".mp3")){const e=await l(t);if("ID3"===String.fromCharCode.apply(null,e.slice(0,3))){n+=6;const t=s(e,n);n+=4;do{let t=0;const o=String.fromCharCode.apply(null,e.slice(n,n+4)),r=a(e,n+4);if(0===r)break;if(t+=10,"APIC"===o){let o=c(n,t,e),s=n+t+1;const a=String.fromCharCode.apply(null,e.slice(s,s+o));t=t+1+o,o=c(n,t,e),t=t+1+o,s=n+t+1;let l=e.slice(s,s+r);return i(l,a)}n=n+r+10}while(n<t+10)}}}},205:(e,t,n)=>{const o=n(814),{getPlay:r,getPause:i}=n(669),s=n(442),{changeAudio:a}=n(458);let l,c,u=[];const d=()=>document.querySelector(`.${c}-play`),g=()=>{l.addEventListener("timeupdate",(()=>{let e=l.currentTime/l.duration;const t=document.querySelector(`.${c}-bottom`).clientWidth*e;document.querySelector(`.${c}-progress`).style.width=t+"px"})),l.addEventListener("play",(()=>{d().innerHTML=r()})),l.addEventListener("pause",(()=>{d().innerHTML=i()})),d().addEventListener("click",(()=>{l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>l.HAVE_CURRENT_DATA?l.pause():l.play()})),s(l,c,.2),a(l,u,c)};e.exports={init:(e,t)=>{c=e,u=t,(()=>{const e=document.querySelector("body"),t=document.createElement("audio"),n=document.createElement("section");n.innerHTML=o(c),l=t,e.append(n,t)})(),g()}}},814:e=>{e.exports=e=>`\n    <section class="${e}">\n        <section class="${e}-mask">\n            <section class="${e}-title">\n                <button class="${e}-sound">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-volume-down" viewBox="0 0 16 16">\n                        <path d="M9 4a.5.5 0 0 0-.812-.39L5.825 5.5H3.5A.5.5 0 0 0 3 6v4a.5.5 0 0 0 .5.5h2.325l2.363 1.89A.5.5 0 0 0 9 12V4zM6.312 6.39 8 5.04v5.92L6.312 9.61A.5.5 0 0 0 6 9.5H4v-3h2a.5.5 0 0 0 .312-.11zM12.025 8a4.486 4.486 0 0 1-1.318 3.182L10 10.475A3.489 3.489 0 0 0 11.025 8 3.49 3.49 0 0 0 10 5.525l.707-.707A4.486 4.486 0 0 1 12.025 8z"/>\n                    </svg>\n                </button>\n                <input class="${e}-voice" type="range" min="0" max="100">\n            </section>\n            <section class="${e}-content">\n                <button class="${e}-pre">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-left-fill" viewBox="0 0 16 16">\n                        <path d="m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"/>\n                    </svg>\n                </button>\n                <button class="${e}-play">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right" viewBox="0 0 16 16">\n                        <path d="M6 12.796V3.204L11.481 8 6 12.796zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z"/>\n                    </svg>\n                </button>\n                <button class="${e}-next">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 0 16 16">\n                        <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>\n                    </svg>\n                </button>\n            </section>\n            <section class="${e}-bottom">\n                <div class="${e}-progress"></div>\n            </section>\n        </section>\n    </section>\n    `},669:e=>{e.exports={getUnMuted:()=>'\n           <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-volume-down" viewBox="0 0 16 16"> \n                <path d="M9 4a.5.5 0 0 0-.812-.39L5.825 5.5H3.5A.5.5 0 0 0 3 6v4a.5.5 0 0 0 .5.5h2.325l2.363 1.89A.5.5 0 0 0 9 12V4zM6.312 6.39 8 5.04v5.92L6.312 9.61A.5.5 0 0 0 6 9.5H4v-3h2a.5.5 0 0 0 .312-.11zM12.025 8a4.486 4.486 0 0 1-1.318 3.182L10 10.475A3.489 3.489 0 0 0 11.025 8 3.49 3.49 0 0 0 10 5.525l.707-.707A4.486 4.486 0 0 1 12.025 8z"/>              \n           </svg>',getMute:()=>'\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-volume-mute" viewBox="0 0 16 16">\n              <path d="M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zM6 5.04 4.312 6.39A.5.5 0 0 1 4 6.5H2v3h2a.5.5 0 0 1 .312.11L6 10.96V5.04zm7.854.606a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0z"/>\n            </svg>\n',getPlay:()=>'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause" viewBox="0 0 16 16">\n  <path d="M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5zm4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"/>\n</svg>',getPause:()=>'               <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right" viewBox="0 0 16 16">\n                    <path d="M6 12.796V3.204L11.481 8 6 12.796zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z"/>\n                </svg>'}},891:e=>{e.exports={getContentSize:(e,t)=>(e[t]<<16)+(e[t+1]<<8)+e[t+2],getElSize:(e,t)=>(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],isSupportedCssVar:()=>{window.CSS&&window.CSS.supports&&window.CSS.supports("--background-image","./images/flower.jpg")?console.log("support CSS var"):console.log("not support CSS var")},uint8ToBase64:(e,t)=>{const n=e.reduce(((e,t)=>e+String.fromCharCode(t)),"");return`data:${t};base64,${window.btoa(n.toString())}`},getID3TotalSize:(e,t)=>((127&e[t])<<21)+((127&e[t+1])<<14)+((127&e[t+2])<<7)+(127&e[t+3]),getID3FrameSize:(e,t)=>((255&e[t])<<24)+((255&e[t+1])<<16)+((255&e[t+2])<<8)+(255&e[t+3]),getArrayData:async e=>{const t=await fetch(e,{method:"GET"}),n=await t.arrayBuffer();return new Uint8Array(n)},getTextSize:(e,t,n)=>{let o=0;for(let r=e+t+2;r<n.length&&(o++,0!==n[r]);r++);return o}}},442:(e,t,n)=>{const o=n(669);let r,i;const s=e=>{r.style.background="linear-gradient(to right, #82CFD0 0%, #82CFD0 "+e+"%, #fff "+e+"%, white 100%)"};e.exports=(e,t,n=.2)=>{((e,t,n)=>{r=document.querySelector(`.${e}-voice`),i=document.querySelector(`.${e}-sound`),r.value=100*t,n.volume=t,s(r.value)})(t,n,e),r.addEventListener("input",(()=>{(e=>{e.muted=!1;const t=(r.value-r.min)/(r.max-r.min)*100;e.volume=t/100,s(t),i.innerHTML=o.getUnMuted()})(e)})),i.addEventListener("click",(()=>{(e=>{if(e.muted=!e.muted,e.muted)return r.value=0,s(r.value),void(i.innerHTML=o.getMute());r.value=100*e.volume,r.dispatchEvent(new Event("input")),i.innerHTML=o.getUnMuted()})(e)}))}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(10)})();